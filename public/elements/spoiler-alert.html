<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="spoiler-alert">
	<template>
		<style>
			:host {
				display:block;
			}
			#spoilercontainer {
				transition: opacity 1s;
				-webkit-transition: opacity 1s;
				-moz-transition: opacity 1s;
				-o-transition: opacity 1s;
				margin-bottom: 1em;
			}
			#spoilers {
				opacity: 0;
			}
			button {
				width: 13em;
				background-color: inherit;
				color: inherit;
				font-family: inherit;
				font-size: inherit;
				text-align: center;
				margin: inherit;
			}
		</style>
		<div id="spoilercontainer">
			<span id="spoilers">
				<content></content>
			</span>
		</div>
		<button on-click={{toggleHide}}>{{buttonText}}</button>
	</template>
	<script>
		Polymer('spoiler-alert', {
			hide: 1,
			buttonText: "Here be spoilers",
			ready: function() {
				this.$.spoilers.style.opacity = 0;
			},
			toggleHide: function() {
				if (this.hide) {
					this.$.spoilers.style.opacity = 1;
					this.buttonText = "ACK! Cannot unsee!"
					this.hide = 0;
				} else {
					this.$.spoilers.style.opacity = 0;
					this.buttonText = "Here be spoilers";
					this.hide = 1;
				}
			}
		});
	</script>
</polymer-element>